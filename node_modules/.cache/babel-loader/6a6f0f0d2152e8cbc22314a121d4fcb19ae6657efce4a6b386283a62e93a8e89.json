{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8080/api';\nclass ApiService {\n  async login(email, password) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorData;\n        try {\n          errorData = JSON.parse(errorText);\n        } catch (e) {\n          errorData = {\n            error: errorText\n          };\n        }\n        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n\n      // Store token in localStorage\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('user', JSON.stringify({\n        id: data.id,\n        firstName: data.firstName,\n        lastName: data.lastName,\n        email: data.email,\n        fullName: data.fullName\n      }));\n      return data;\n    } catch (error) {\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\n        throw new Error('Cannot connect to server. Please try again later.');\n      }\n      throw new Error(error.message);\n    }\n  }\n  async register(firstName, lastName, email, password, confirmPassword) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/register`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          firstName,\n          lastName,\n          email,\n          password,\n          confirmPassword\n        })\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorData;\n        try {\n          errorData = JSON.parse(errorText);\n        } catch (e) {\n          errorData = {\n            error: errorText\n          };\n        }\n        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n\n      // Store token in localStorage\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('user', JSON.stringify({\n        id: data.id,\n        firstName: data.firstName,\n        lastName: data.lastName,\n        email: data.email,\n        fullName: data.fullName\n      }));\n      return data;\n    } catch (error) {\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\n        throw new Error('Cannot connect to server. Please try again later.');\n      }\n      throw new Error(error.message);\n    }\n  }\n  async validateToken() {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No token found');\n      }\n      const response = await fetch(`${API_BASE_URL}/auth/validate`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Invalid token');\n      }\n      return true;\n    } catch (error) {\n      // Clear invalid token\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      throw new Error(error.message);\n    }\n  }\n  logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  }\n  getStoredUser() {\n    const user = localStorage.getItem('user');\n    return user ? JSON.parse(user) : null;\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","login","email","password","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","errorData","parse","e","error","Error","status","statusText","data","json","localStorage","setItem","token","id","firstName","lastName","fullName","name","message","includes","register","confirmPassword","validateToken","getItem","removeItem","logout","getStoredUser","user","getToken"],"sources":["/Users/faazshaikh/Quran-Memorization-App/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8080/api';\n\nclass ApiService {\n  async login(email, password) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorData;\n        try {\n          errorData = JSON.parse(errorText);\n        } catch (e) {\n          errorData = { error: errorText };\n        }\n        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n\n      // Store token in localStorage\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('user', JSON.stringify({\n        id: data.id,\n        firstName: data.firstName,\n        lastName: data.lastName,\n        email: data.email,\n        fullName: data.fullName\n      }));\n\n      return data;\n    } catch (error) {\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\n        throw new Error('Cannot connect to server. Please try again later.');\n      }\n      throw new Error(error.message);\n    }\n  }\n\n  async register(firstName, lastName, email, password, confirmPassword) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/register`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          firstName,\n          lastName,\n          email,\n          password,\n          confirmPassword\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorData;\n        try {\n          errorData = JSON.parse(errorText);\n        } catch (e) {\n          errorData = { error: errorText };\n        }\n        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n\n      // Store token in localStorage\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('user', JSON.stringify({\n        id: data.id,\n        firstName: data.firstName,\n        lastName: data.lastName,\n        email: data.email,\n        fullName: data.fullName\n      }));\n\n      return data;\n    } catch (error) {\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\n        throw new Error('Cannot connect to server. Please try again later.');\n      }\n      throw new Error(error.message);\n    }\n  }\n\n  async validateToken() {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No token found');\n      }\n\n      const response = await fetch(`${API_BASE_URL}/auth/validate`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Invalid token');\n      }\n\n      return true;\n    } catch (error) {\n      // Clear invalid token\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      throw new Error(error.message);\n    }\n  }\n\n  logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  }\n\n  getStoredUser() {\n    const user = localStorage.getItem('user');\n    return user ? JSON.parse(user) : null;\n  }\n\n  getToken() {\n    return localStorage.getItem('token');\n  }\n}\n\nexport default new ApiService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}